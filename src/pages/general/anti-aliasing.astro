---
import Indice from "../../components/Indice.astro";
import DashboardLayout from "../../layouts/DashboardLayout.astro";
import ImageDiff from "../../components/ImageDiff.astro";
import Image from "astro/components/Image.astro";
import aaImg from "../../assets/AA.png";
import { indiceItems } from "../../data/indiceItems.ts";

const item = indiceItems.find((i) => i.href === Astro.url.pathname);
const title = item ? item.titleEs : "Error al cargar el nombre de la sección";
---

<DashboardLayout background="bg-ambient">
  <Indice slot="sidebar" />

  <section class="hero h-full">
    <div class="hero-overlay bg-black/50" aria-hidden="true"></div>

    <div class="hero-content w-full p-6 flex flex-col gap-6">
      <!-- Card con título + descripción -->
      <div class="glass rounded-box w-full p-8">
        <nav class="breadcrumbs text-sm" aria-label="Breadcrumbs">
          <ul>
            <li><a href="/"><i class="bi bi-house-fill"></i>Inicio</a></li>
            <li>Tecnologías de uso general</li>
            <li aria-current="page">{title}</li>
          </ul>
        </nav>
        <h1 class="mb-5 text-5xl font-bold">{title}</h1>
        <p>
          El anti-aliasing es una técnica para suavizar los bordes “dientes de sierra” que aparecen en objetos y líneas
          diagonales o curvas en los juegos. Hace que las imágenes se vean más limpias y menos pixeladas, mejorando la
          calidad visual.
        </p>

        <figure class="aspect-16/9 w-[400px] mx-auto">
          <Image src={aaImg} alt="Anti-Aliasing, AA" class="w-full h-full object-contain" loading="eager" />
        </figure>
      </div>

      <!-- Variantes generales -->
      <div class="glass rounded-box w-full p-6">
        <h2 class="text-2xl font-semibold mb-3"><i class="bi bi-palette-fill text-info"></i> Variantes generales</h2>
        <ul class="list-disc list-inside space-y-2 text-left">
          <li>
            <strong>SSAA (Super-Sampling Anti-Aliasing):</strong> Renderiza la imagen a mayor resolución y luego la reduce.
            Es el más nítido, pero también el más costoso.
          </li>
          <li>
            <strong>MSAA (Multi-Sampling Anti-Aliasing):</strong> Suaviza solo los bordes de los polígonos, no toda la imagen.
            Buen equilibrio entre calidad y rendimiento.
          </li>
          <li>
            <strong>FXAA (Fast Approximate Anti-Aliasing):</strong> Post-proceso rápido que aplica un filtro de suavizado.
            Muy ligero, pero puede hacer la imagen algo borrosa.
          </li>
          <li>
            <strong>TAA (Temporal Anti-Aliasing):</strong> Usa información de varios fotogramas para suavizar bordes. Muy
            efectivo, pero puede generar “ghosting” o imágenes borrosas en movimiento.
          </li>
          <li>
            <strong>TXAA (Temporal Approximate Anti-Aliasing, NVIDIA):</strong> Combina MSAA con técnicas temporales y filtros
            de postprocesado avanzados. Reduce de forma notable el parpadeo y los bordes dentados en movimiento, ofreciendo
            una imagen más suave y cinematográfica, aunque puede verse algo más difusa y con mayor coste en rendimiento que
            TAA estándar.
          </li>
          <li>
            <strong>DLAA / DLSS (Deep Learning Anti-Aliasing / Super Sampling):</strong> Técnicas modernas basadas en IA
            (NVIDIA). DLAA suaviza bordes con gran calidad; DLSS combina escalado y suavizado para mejorar FPS y nitidez.
          </li>
          <li>
            <strong>FSR (FidelityFX Super Resolution, AMD):</strong> Escalado con suavizado integrado, alternativa abierta
            a DLSS.
          </li>
        </ul>
        <br />
        <ImageDiff
          title="Comparar: Suavizado de Bordes (Anti-Aliasing) OFF vs Suavizado de Bordes (Anti-Aliasing) ON"
          img1="/img/general/anti-aliasing/no-aa.png"
          img2="/img/general/anti-aliasing/with-aa.png"
          alt1="Escena con Suavizado de Bordes (Anti-Aliasing) OFF"
          alt2="Escena con Suavizado de Bordes (Anti-Aliasing) ON"
        />
      </div>

      <!-- Notas de tecnologías propietarias -->
      <div class="glass rounded-box w-full p-6">
        <h2 class="text-2xl font-semibold mb-3">
          <i class="bi bi-journal-bookmark-fill text-secondary"></i> Notas de tecnologías propietarias
        </h2>
        <ul class="list-disc list-inside space-y-2 text-left">
          <li>
            <strong>NVIDIA DLSS / DLAA / TXAA:</strong> DLSS y DLAA usan IA para suavizar bordes y/o escalar resolución.
            TXAA es una técnica propietaria que mezcla MSAA + TAA + filtros de postprocesado para lograr suavidad extra.
          </li>
          <li><strong>AMD FSR:</strong> alternativa abierta, funciona en más GPUs.</li>
          <li><strong>Intel XeSS:</strong> otra solución de escalado con suavizado, basada en IA.</li>
        </ul>
      </div>

      <!-- Dos columnas -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full">
        <!-- Coste en rendimiento -->
        <div class="glass rounded-box w-full p-6">
          <h2 class="text-2xl font-semibold mb-3">
            <i class="bi bi-speedometer text-warning"></i> Coste en rendimiento
          </h2>
          <ul class="list-disc list-inside space-y-2 text-left">
            <li><strong>SSAA:</strong> impacto muy alto, puede reducir 30–50% de FPS.</li>
            <li><strong>MSAA:</strong> impacto medio-alto, entre 10–25% de FPS.</li>
            <li><strong>FXAA:</strong> impacto muy bajo, apenas 1–3% de FPS.</li>
            <li><strong>TAA:</strong> impacto bajo-medio, entre 5–10% de FPS.</li>
            <li>
              <strong>TXAA:</strong> impacto medio, normalmente entre 5–15% de FPS en 1080p, 10–20% en 1440p y hasta 25%
              en 4K. Depende casi siempre de la GPU, no de la CPU.
            </li>
            <li>
              <strong>DLAA / DLSS / FSR:</strong> impacto variable, pero suelen mejorar FPS al mismo tiempo que suavizan
              bordes.
            </li>
          </ul>
        </div>

        <!-- Cuándo conviene activarlo -->
        <div class="glass rounded-box w-full p-6">
          <h2 class="text-2xl font-semibold mb-3">
            <i class="bi bi-dpad-fill text-success"></i> Cuándo conviene activarlo
          </h2>
          <ul class="list-disc list-inside space-y-2 text-left">
            <li><strong>PC de gama baja:</strong> usa FXAA (rápido y ligero).</li>
            <li>
              <strong>PC de gama media:</strong> TAA es la mejor opción por calidad/rendimiento. TXAA 2x puede ser viable
              si buscas menos parpadeo en movimiento.
            </li>
            <li><strong>PC de gama alta:</strong> prueba MSAA, TXAA 4x o DLAA si buscas máxima nitidez y suavidad.</li>
            <li>
              <strong>Con GPU moderna (RTX, RX 7000, Arc):</strong> activa DLSS / FSR / XeSS para suavizado + más FPS.
            </li>
            <li>
              <strong>Competitivo / eSports:</strong> muchos jugadores desactivan AA o usan FXAA para priorizar FPS y nitidez
              en movimiento.
            </li>
            <li>
              <strong>Experiencia inmersiva / campañas:</strong> TAA o TXAA ofrecen la mejor estabilidad visual en movimiento,
              mientras que DLSS combina suavizado con más rendimiento.
            </li>
          </ul>
        </div>
      </div>
      <!-- Fin Dos columnas -->
    </div>
  </section>
</DashboardLayout>
